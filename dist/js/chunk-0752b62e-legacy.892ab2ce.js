(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0752b62e"],{"1ce1":function(e,t,n){"use strict";var r=n("d941"),a=n.n(r);a.a},"29fb":function(e,t,n){e.exports=n.p+"static/media/video-js.062dbec.swf"},"2e63":function(e,t,n){},"523a":function(e,t,n){"use strict";var r=n("2e63"),a=n.n(r);a.a},"69e6":function(e,t,n){},"6e5a":function(e,t,n){},"7b06":function(e){e.exports={a:"5.4.2"}},"999d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index-wrap"},[n("dk-header"),n("article",{staticClass:"main-wrap"},[n("aside",{staticClass:"aside-wrap"},[n("dk-tv-list",{on:{changeTV:e.changeTV}})],1),n("div",{staticClass:"view-wrap"},[n("dk-video",{attrs:{mediaUrl:e.mediaUrl}})],1)])],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"head-wrap"},[e._m(0),n("article",{staticClass:"head-item-wrap"},[n("div",{staticClass:"pay-wrap"},[n("el-button",{staticClass:"donation-label",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("捐赠")]),n("div",{staticClass:"pay-pic-wrap"})],1),n("i",{staticClass:"github-logo",attrs:{title:"github"},on:{click:e.toGithub}})])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"head-item-wrap"},[n("i",{staticClass:"logo"}),n("span",{staticClass:"title"},[e._v("多看网络电视")])])}],s={name:"DkHeader",methods:{toGithub:function(){var e="https://github.com/gezi666/DKFreeNetworkTV.git";window.open(e)}}},c=s,l=(n("a83a"),n("2877")),u=Object(l["a"])(c,o,i,!1,null,"2c39b076",null),p=u.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"tv-list-wrap"},e._l(e.TVList,function(t,r,a){return n("div",{key:a,staticClass:"tv-type-wrap"},[n("p",{staticClass:"type-wrap"},[e._v(e._s(e._f("getTypeName")(r)))]),n("ul",{staticClass:"tv-name-list-wrap"},e._l(t,function(t,a){return n("li",{key:r+"-"+a,staticClass:"tv-name-wrap",class:{"active-tv":e.currentMediaUrl===t.url},on:{click:function(n){e.currentMediaUrl=t.url}}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),0)])}),0)},f=[],h={name:"DkTvList",data:function(){return{TVList:{},currentMediaUrl:""}},filters:{getTypeName:function(e){var t="央视";return"provinceTV"===e?t="地方卫视":"hmtTV"===e?t="港澳台卫视":"abroadTV"===e&&(t="国外卫视"),t}},methods:{getTVList:function(){var e=this;this.$request("get","".concat("","static/TVInfo.json")).then(function(t){t.TVList&&(e.$set(e,"TVList",t.TVList),e.currentMediaUrl=t.TVList.cctv[0].url)})},changeTV:function(e){this.$emit("changeTV",e)}},mounted:function(){this.getTVList()},watch:{currentMediaUrl:function(e){this.changeTV(e)}}},y=h,v=(n("f8df"),Object(l["a"])(y,d,f,!1,null,"62ee76b2",null)),m=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video-player",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTV,expression:"loadingTV"}],ref:"videoPlayer",staticClass:"video-wrap vjs-custom-skin",attrs:{"element-loading-text":"玩命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)",options:e.playerOptions},on:{ready:e.playerReadied,waiting:function(t){return e.onPlayerWaiting(t)},play:function(t){return e.onPlayerPlay(t)},canplaythrough:function(t){return e.onPlayerCanplaythrough(t)},loadeddata:function(t){return e.onPlayerLoadeddata(t)},canplay:function(t){return e.onPlayerCanplay(t)},playing:function(t){return e.onPlayerPlaying(t)},pause:function(t){return e.onPlayerPause(t)},ended:function(t){return e.onPlayerEnded(t)}}})},w=[],b=n("3d33"),S=n.n(b),_=n("7b06"),T=n("fa9d"),P=n.n(T),j="2.2.1";function k(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?![\w-]+=)/),r=void 0;return-1!==n?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){var r=e.rtmpSourceHandler.canPlayType(t.type);return r||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,n,r){var a=e.streamToParts(t.src);n.setRtmpConnection(a.connection),n.setRtmpStream(a.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}var C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},V=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},F=S.a.getComponent("Tech"),O=S.a.dom,R=S.a.url,H=S.a.createTimeRange,x=S.a.mergeOptions,L=P.a&&P.a.navigator||{},N=function(e){function t(n,r){C(this,t);var a=V(this,e.call(this,n,r));return n.source&&a.ready(function(){this.setSource(n.source)},!0),n.startTime&&a.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),P.a.videojs=P.a.videojs||{},P.a.videojs.Flash=P.a.videojs.Flash||{},P.a.videojs.Flash.onReady=t.onReady,P.a.videojs.Flash.onEvent=t.onEvent,P.a.videojs.Flash.onError=t.onError,a.on("seeked",function(){this.lastSeekTarget_=void 0}),a}return E(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="https://vjs.zencdn.net/swf/"+_["a"]+"/video-js.swf");var n=e.techId,r=x({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),a=x({wmode:"opaque",bgcolor:"#000000"},e.params),o=x({id:n,name:n,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,a,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=R.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?H():H(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?H():H(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return P.a.performance&&"function"===typeof P.a.performance.now?e.creationTime=P.a.performance.now():P.a.performance&&P.a.performance.timing&&"number"===typeof P.a.performance.timing.navigationStart&&(e.creationTime=P.a.Date.now()-P.a.performance.timing.navigationStart),e},t}(F),I=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"],$=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],M=N.prototype;function D(e){var t=e.charAt(0).toUpperCase()+e.slice(1);M["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function U(e){M[e]=function(){return this.el_.vjs_getProperty(e)}}for(var A=0;A<I.length;A++)U(I[A]),D(I[A]);for(var G=0;G<$.length;G++)U($[G]);N.isSupported=function(){return!((!S.a.browser.IS_CHROME||S.a.browser.IS_ANDROID&&S.a.browser.IS_IOS)&&(!S.a.browser.IS_SAFARI||S.a.browser.IS_IOS)&&!S.a.browser.IS_EDGE)||N.version()[0]>=10},F.withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(e){return e in N.formats?"maybe":""},N.nativeSourceHandler.canHandleSource=function(e,t){var n=void 0;function r(e){var t=R.getFileExtension(e);return t?"video/"+t:""}return n=e.type?e.type.replace(/;.*/,"").toLowerCase():r(e.src),N.nativeSourceHandler.canPlayType(n)},N.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),N.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},N.onReady=function(e){var t=O.$("#"+e),n=t&&t.tech;n&&n.el()&&N.checkReady(n)},N.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){N.checkReady(e)},50))},N.onEvent=function(e,t){var n=O.$("#"+e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},N.onError=function(e,t){var n=O.$("#"+e).tech;if("srcnotfound"===t)return n.error(4);"string"===typeof t?n.error("FLASH: "+t):(t.origin="flash",n.error(t))},N.version=function(){var e="0,0,0";try{e=new P.a.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{L.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(L.plugins["Shockwave Flash 2.0"]||L.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},N.embed=function(e,t,n,r){var a=N.getEmbedCode(e,t,n,r),o=O.createEl("div",{innerHTML:a}).childNodes[0];return o},N.getEmbedCode=function(e,t,n,r){var a='<object type="application/x-shockwave-flash" ',o="",i="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),n=x({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){i+='<param name="'+e+'" value="'+n[e]+'" />'}),r=x({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){s+=e+'="'+r[e]+'" '}),""+a+s+">"+i+"</object>"},k(N),F.getTech("Flash")?(S.a.log.warn("Not using videojs-flash as it appears to already be registered"),S.a.log.warn("videojs-flash should only be used with video.js@6 and above")):S.a.registerTech("Flash",N),N.VERSION=j;var W=n("29fb"),z=n.n(W),q={name:"DkVideo",data:function(){return{loadingTV:!1,playerOptions:{preload:!0,muted:!1,autoplay:"play",language:"zh-CN",techOrder:["flash"],sourceOrder:!0,flash:{swf:z.a},sources:[{type:"rtmp/mp4",src:""}],suppressNotSupportedError:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试"}}},props:{mediaUrl:{type:String,default:""}},computed:{player:function(){return this.$refs.videoPlayer.player}},methods:{playerReadied:function(){console.log("Readied")},onPlayerWaiting:function(e){console.log("Waiting",e)},onPlayerPlay:function(e){console.log("Play",e)},onPlayerCanplaythrough:function(e){console.log("Canplaythrough",e)},onPlayerLoadeddata:function(e){console.log("Loadeddata",e)},onPlayerCanplay:function(e){console.log("Canplay",e),this.loadingTV=!1,this.player.play()},onPlayerPlaying:function(e){console.log("Playing",e)},onPlayerEnded:function(e){console.log("Ended",e)},onPlayerPause:function(e){console.log("Pause",e)},videoPlay:function(e){this.player.src(e),this.player.load(e)}},watch:{mediaUrl:function(e){this.player.pause(),this.loadingTV=!0,this.videoPlay(e)}}},J=q,Q=(n("523a"),Object(l["a"])(J,g,w,!1,null,"7772e19a",null)),K=Q.exports,X={name:"Index",components:{DkHeader:p,DkTvList:m,DkVideo:K},data:function(){return{mediaUrl:""}},methods:{changeTV:function(e){this.mediaUrl=e}},mounted:function(){}},B=X,Y=(n("1ce1"),Object(l["a"])(B,r,a,!1,null,"5a14fe85",null));t["default"]=Y.exports},a83a:function(e,t,n){"use strict";var r=n("6e5a"),a=n.n(r);a.a},d941:function(e,t,n){},f8df:function(e,t,n){"use strict";var r=n("69e6"),a=n.n(r);a.a},fa9d:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("c8ba"))}}]);